(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{164:function(t,e,s){"use strict";s.r(e);var r=s(0),n=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("本文目标是指引从未使用过Linux的.Neter，如何在CentOS7上安装.Net\nCore环境，以及部署.Net Core应用。")]),t._v(" "),s("p"),t._v(" "),s("p",[t._v("仅针对CentOS，其它Linux系统类似，命令环节稍加调整；")]),t._v(" "),s("p",[t._v("需要提前准备好服务器地址、用户名、密码；")]),t._v(" "),t._m(2),t._v(" "),s("h1",{attrs:{id:"新生命团队netcore服务器免费开放计划"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新生命团队netcore服务器免费开放计划","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://www.cnblogs.com/nnhy/p/linux_server.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("新生命团队netcore服务器免费开放计划"),s("OutboundLink")],1)]),t._v(" "),s("p"),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("在Windows开发机上安装 xshell 和 xftp\n，前者用于SSH连接Linux服务器，后者用于FTP上传下载文件。")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),s("p"),t._v(" "),s("p",[t._v("点击连接，弹出一个SSH安全警告，需要接受并保存SSH密钥。")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),s("p"),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("为了省事，我们同样选择记住密码。")]),t._v(" "),s("p",[t._v("确定后，我们可以看到登录成功！同时在左边会话管理器看到了刚才创建的这个连接，以后需要同时管理很多Linux服务器的时候，这样子就方便多了。")]),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("我来试试几个可能用得到的命令：")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),s("p",[t._v("共63个进程，只有1个在运行，挺干净。不过底下看到有个java进程，不太爽，后面想办法干掉它。")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),s("p",[t._v("这下子知道，那个java进程来自 cloudmonitor，应该是云监控。")]),t._v(" "),s("p"),t._v(" "),t._m(19),t._v(" "),s("p",[t._v("我们是奔着.Net Core而来的，重点是安装运行时环境。")]),t._v(" "),s("p",[t._v("为了方便和一劳永逸，我们抄捷径，先看我的配置：")]),t._v(" "),t._m(20),t._v(" "),s("p",[t._v("打开xshell的快速命令工具栏，然后添加几组快捷命令：")]),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),s("p"),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),s("p"),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),s("p"),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),s("p"),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),s("p"),t._v(" "),s("p",[t._v("具体功能就不介绍了，来源于：https://www.microsoft.com/net/download/linux-package-manager/centos/sdk-current")]),t._v(" "),s("p",[t._v("我们试试第一个按钮，安装.net core运行时，没有asp.net core，也没有.net core sdk")]),t._v(" "),t._m(32),t._v(" "),s("p",[t._v("上图看到，安装了netcore运行时2.1.1")]),t._v(" "),s("p",[t._v("可以用卸载按钮，然后再装另外两个，看看有什么不同。")]),t._v(" "),s("p"),t._v(" "),t._m(33),t._v(" "),s("p",[t._v("用vs2017新建一个netcore控制台项目")]),t._v(" "),t._m(34),t._v(" "),s("p",[t._v("Nuget引用 NewLife.Core ，建立一个稍微高级一点的例程")]),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),s("p",[t._v("static void Main(String[] args)")]),t._v(" "),s("p",[t._v("{")]),t._v(" "),s("p",[t._v("XTrace.UseConsole();")]),t._v(" "),s("p",[t._v("var svr = new ApiServer(1234)")]),t._v(" "),s("p",[t._v("{")]),t._v(" "),s("p",[t._v("Log = XTrace.Log,")]),t._v(" "),s("p",[t._v("EncoderLog = XTrace.Log,")]),t._v(" "),s("p",[t._v("StatPeriod = 5")]),t._v(" "),s("p",[t._v("};")]),t._v(" "),s("p",[t._v("var ns = svr.EnsureCreate() as NetServer;")]),t._v(" "),s("p",[t._v("ns.SocketLog = XTrace.Log;")]),t._v(" "),s("p",[t._v("ns.SessionLog = XTrace.Log;")]),t._v(" "),s("p",[t._v("ns.LogSend = true;")]),t._v(" "),s("p",[t._v("ns.LogReceive = true;")]),t._v(" "),s("p",[t._v("svr.Start();")]),t._v(" "),s("p",[t._v("Console.ReadKey();")]),t._v(" "),s("p",[t._v("}")]),t._v(" "),t._m(37),t._v(" "),s("p",[t._v("如上，我们用ApiServer建立一个RPC服务，并打开全部调试日志，它内置有两个服务接口很方便测试RPC通信。")]),t._v(" "),s("p",[t._v("编译并发布为可移植应用：")]),t._v(" "),s("p"),t._v(" "),t._m(38),t._v(" "),s("p",[t._v("我们可以得到这样一个目录，运行必要的文件是dll和那个runtimeconfig.json")]),t._v(" "),t._m(39),t._v(" "),s("p"),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),s("p"),t._v(" "),s("p",[t._v("光有运行还不够，有时候我们还要查看应用工作日志。还是用xftp，刚才右边的窗口刷新一下，可以看到多出来Log目录，就是我们的应用日志，右键传输即可下载到本地，当然也可以简单直接的往左边拖过去。")]),t._v(" "),t._m(47),t._v(" "),s("p",[t._v("vscode打开日志文件，可以看到很详细的信息，特别是日志头，便于分析查找问题")]),t._v(" "),s("p"),t._v(" "),t._m(48),t._v(" "),s("p"),t._v(" "),t._m(49),t._v(" "),s("p",[t._v("这一篇面向Linux零基础的Windows工程师的极简教程，终于写完了，基本上足以应付八成以上的日常工作。")]),t._v(" "),t._m(50),t._v(" "),s("p"),t._v(" "),t._m(51),t._v(" "),s("p"),t._v(" "),s("p",[t._v("我是大石头，打1999年起，19年老码农。目前在快递行业从事数据分析架构工作，分析跑在路上的上亿包裹。欢迎大家一起C#大数据！")]),t._v(" "),s("p"),t._v(" "),s("p",[t._v("End.")]),t._v(" "),s("p",[t._v("我不相信神话，我只相信汗水！我不相信命运，我只相信双手！")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.cnblogs.com/nnhy/p/netcore_centos.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文地址"),s("OutboundLink")],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"centos安装使用-netcore极简教程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos安装使用-netcore极简教程","aria-hidden":"true"}},[this._v("#")]),this._v(" CentOS安装使用.netcore极简教程")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"netcore-centos安装使用-netcore极简教程（免费提供学习服务器）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#netcore-centos安装使用-netcore极简教程（免费提供学习服务器）","aria-hidden":"true"}},[this._v("#")]),this._v(" [netcore]CentOS安装使用.netcore极简教程（免费提供学习服务器）")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("如果手上没有Linux系统，可使用新生命团队免费提供的公网服务器 "),e("strong",[this._v("centos.newlifex.com")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"一、准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、准备工作","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、准备工作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("打开xshell，新建连接，名称和主机都填 "),e("strong",[this._v("centos.newlifex.com")]),this._v(" ，（实际应用中就是你的Linux服务器地址或域名），其它默认，如下：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/76595ba4995dbdb146e5e984aae795b7.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708114452335-1250298170.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/cd1e6dab1788f6385eb36a6bdaf13da4.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708114558980-1970286277.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("接受后要求输入用户名，我们这里输入"),e("strong",[this._v("root")]),this._v("，选择记住用户名")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/bb14b29aa883e8f36166a9d78cafc00f.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708114725291-711940989.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("确定后，要求输入密码，新生命团队开放服务器本周的密码是 "),e("strong",[this._v("nx@1250407685")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/bfa7bc5db9a353206b038cb9513f030e.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708114945342-1398310216.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/c02a6f116c273ce03106ce24b2a1e431.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708115201982-2001968391.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("w 查看现在谁在连接这台服务器")]),this._v("。下图看到只有我自己连着。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("free -h 查看服务器内存使用情况")]),this._v("。下图看到已用内存119M，Linux这点非常漂亮。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/37979c1c52ba9c27ff985651a9a19288.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708115543394-173715349.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("top 命令查看系统进程占用资源情况")]),this._v("。类似于Windows任务管理器，定时刷新，按键Q退出。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/e64623cbf8969a4b09d129532ebd2783.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708115812533-2037633259.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("ps aux 查看进程详细信息")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/27e6aaecc6f902a571280099af349282.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708121255563-1354465336.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"二、安装环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、安装环境","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、安装环境")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/13eacd1e3bc86a36cf3fe4465a05b8ab.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708121537377-1322348860.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/bbc50d480d6a3955cbb22f7d206d0a20.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708121810719-977019569.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/b4cf14234c223a30e9eb9370507bdd3a.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708121821975-1360231203.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("按钮“"),e("strong",[this._v(".Net Core")]),this._v("”")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("sudo rpm -Uvh\nhttps://packages.microsoft.com/config/rhel/7/packages-microsoft-prod.rpm"),e("br"),this._v("\nsudo yum update -y"),e("br"),this._v("\nsudo yum install -y dotnet-runtime-2.1"),e("br"),this._v("\ndotnet --info")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("（注意："),e("strong",[this._v("最后一行命令后面必须有一个换行，否则最后命令无法得到执行，下同")]),this._v("）")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("按钮“"),e("strong",[this._v(".Net Core SDK")]),this._v("”")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("sudo rpm -Uvh\nhttps://packages.microsoft.com/config/rhel/7/packages-microsoft-prod.rpm"),e("br"),this._v("\nsudo yum update -y"),e("br"),this._v("\nsudo yum install -y dotnet-sdk-2.1"),e("br"),this._v("\ndotnet --version")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("按钮“"),e("strong",[this._v("Asp.Net Core")]),this._v("”")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("sudo rpm -Uvh\nhttps://packages.microsoft.com/config/rhel/7/packages-microsoft-prod.rpm"),e("br"),this._v("\nsudo yum update -y"),e("br"),this._v("\nsudo yum install -y aspnetcore-runtime-2.1"),e("br"),this._v("\ndotnet --info")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("按钮“"),e("strong",[this._v("卸载.Net Core")]),this._v("”")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("sudo yum remove -y aspnetcore-*"),e("br"),this._v("\nsudo yum remove -y dotnet-*")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/2e04fc46a0b60c16d1f62b27186bd016.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708122352258-657160089.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"三、部署应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、部署应用","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、部署应用")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/377741a986438ae6d1f7334f29b39c8a.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708122613205-2070970134.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/561a93552c512ff28b718612681054e9.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708122720463-1550216535.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/51e409b11aa51c150090697429a953ed.gif",alt:"复制代码"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/51e409b11aa51c150090697429a953ed.gif",alt:"复制代码"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/884f69b83a2e780ded32f6faf244ae0d.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708220406911-465511875.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/f4e6e5fbc35175e7466241f4d48dfade.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708220511329-168608216.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("用xshell连上服务，我们这里可以是 "),e("strong",[this._v("centos.newlifex.com")]),this._v(" 。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("xshell工具栏上有一个绿色图标，打开xftp，左窗口地址栏进入刚才的发布目录，右窗口新建/root/ApiServer目录，并"),e("strong",[this._v("把左边必要的文件拖到右边")]),this._v("，即可实现上传！")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/f356781d7fe4bb80271d8b26490437d8.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708220733085-1524020471.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("回到xshell中，"),e("strong",[this._v("cd ApiServer")]),this._v("进入目录，"),e("strong",[this._v("dotnet\nConsoleApp5.dll")]),this._v(" 即可执行应用，（前提是已安装netcore运行时）")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/ca5dfc125ed62e5a1f00d0345712880e.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708220948906-638233925.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("客户端用码神工具XCoder（https://github.com/NewLifeX/XCoder）连接地址 "),s("strong",[t._v("tcp://centos.newlifex.com:1234")]),t._v("，选择 "),s("strong",[t._v("Api/All")]),t._v("、"),s("strong",[t._v("Api/Info")]),t._v(" 两个服务接口均测试通过，表明我们的**.Net\nCore"),s("strong",[t._v("应用成功在")]),t._v("CentOS**上跑起来")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/237b1c67e3befaef30a520823e28973c.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708221322608-1567368892.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/e5bea41b066d6f6ca74313373197eb2e.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708221128440-996081899.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"media/c4b70724382d7e1b4bd2f048e8cfa043.png",alt:"https://images2018.cnblogs.com/blog/19592/201807/19592-20180708221714097-1891187654.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"四、总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 四、总结")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("其它更多细节，可以在网上找到，比如"),e("strong",[this._v("怎么样把应用安装成为服务、怎么样做到开机启动")]),this._v("，等等。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("综合过去20年写代码的经验，netcore具有极强的优势，尽管有一些小问题，但我要说，只要微软不放弃，我坚决不放弃！")])])}],!1,null,null,null);e.default=n.exports}}]);